<div class="mt-4">
    <h3>Sửa tài khoản</h3>
    <form class="mt-4" method="POST" action="/admin/accounts/{{account._id}}?_method=PATCH" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="fullName" class="form-label">Họ tên <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="fullName" name="fullName" value="{{account.fullName}}">
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
            <input type="email" class="form-control" id="email" name="email" value="{{account.email}}">
        </div>

        <div class="mb-3">
            <label for="password" class="form-label">Mật khẩu <span class="text-danger">*</span></label>
            <input type="password" class="form-control" id="password" name="password">
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label">Số điện thoại <span class="text-danger">*</span></label>
            <input type="tel" class="form-control" id="phone" name="phone" value="{{account.phone}}"
                    pattern="0[35789][0-9]{8}" required
                    title="Số điện thoại không đúng">
        </div>

        <div class="mb-3">
            <label for="avatar" class="form-label">Avatar</label>
            <input type="file" class="form-control" id="avatar" name="avatar" accept="image/*">
        </div>

        <div class="mb-3">
            <label for="role" class="form-label">Vai trò</label>
            <select class="form-select" id="role" name="role_id">
                {{#each roles}}
                    <option value="{{this._id}}" {{#if (eq (toString this._id) (toString @root.account.role_id))}} selected {{/if}}>{{this.name}}</option>
                {{/each}}
            </select>
        </div>
        
        <div class="mb-3">
            <label class="form-label">Trạng thái</label>
            <div class="d-flex">
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" id="active" value="active" {{#if (eq account.status 'active')}}checked{{/if}}>
                    <label class="form-check-label" for="active">Hoạt động</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="status" id="inactive" value="inactive" {{#if (eq account.status 'inactive')}}checked{{/if}}>
                    <label class="form-check-label" for="inactive">Dừng hoạt động</label>
                </div>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Lưu lại</button>
    </form>
</div>

<!-- Hiển thị thông báo thành công -->
{{#if success}}
  <div class="alert alert-success alert-dismissible mt-5" role="alert">
    {{success}}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <i class="fa-solid fa-circle-xmark"></i>
    </button>
  </div>
{{/if}}

<!-- Hiển thị thông báo lỗi -->
{{#if error}}
  <div class="alert alert-danger alert-dismissible mt-5" role="alert">
    {{error}}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <i class="fa-solid fa-circle-xmark"></i>
    </button>
  </div>
{{/if}}